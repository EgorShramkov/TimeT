import telepot
from telepot.loop import MessageLoop
import tornado.ioloop
import tornado.web
import os
import json 
import re

absolute_path = os.path.dirname(os.path.abspath(serverTT.py))
options_path = absolute_path + 'options.json'
subjects_path = absolute_path + 'subjects.json'
admin_password =  os.getenv('Password')
TOKEN = os.getenv('TOKEN')
chat_id_teachers='-1001284124826'
options = json.load(open('options_path', 'r'))
subjects = json.load(open('subjects_path', 'r'))
days = ["Воскресенье", "Понедельник", "Вторник", "Среда", "Четверг", "Пятница", "Суббота"]
port = 8888
day_adm= ["NON", "понедельник" , "вторник", "среду", "четверг", "пятницу"]
NOM_mass = ['5-ого','6-ого','7-ого','8-ого','9-oго','10-ого','11-ого']
chat_id_mass = ['-1001368635243','-1001358437243','-1001445027946','-1001477729156','-1001364844389', '-1001208856454','-1001261650074']
Monlesson =['1_5_1','2_5_1','3_5_1','4_5_1','5_5_1','6_5_1','7_5_1',
'1_6_1','2_6_1','3_6_1','4_6_1','5_6_1','6_6_1','7_6_1', '8_6_1','1_7_1','2_7_1','3_7_1','4_7_1','5_7_1','6_7_1','7_7_1', '8_7_1','1_8_1','2_8_1','3_8_1','4_8_1','5_8_1','6_8_1','7_8_1', '8_8_1','1_9_1','2_9_1','3_9_1','4_9_1','5_9_1','6_9_1','7_9_1', '8_9_1', '9_9_1','10_9_1','1_10_1','2_10_1','3_10_1','4_10_1','5_10_1','6_10_1','7_10_1', '8_10_1','9_10_1','10_10_1', '1_11_1','2_11_1','3_11_1','4_11_1','5_11_1','6_11_1','7_11_1', '8_11_1', '9_11_1', '10_11_1']          
Tuelesson =['1_5_2','2_5_2','3_5_2','4_5_2','5_5_2','6_5_2','7_5_2',
'1_6_2','2_6_2','3_6_2','4_6_2','5_6_2','6_6_2','7_6_2','8_6_2','1_7_2','2_7_2','3_7_2','4_7_2','5_7_2','6_7_2','7_7_2', '8_7_2','1_8_2','2_8_2','3_8_2','4_8_2','5_8_2','6_8_2','7_8_2', '8_8_2','1_9_2','2_9_2','3_9_2','4_9_2','5_9_2','6_9_2','7_9_2', '8_9_2', '9_9_2','10_9_2','1_10_2','2_10_2','3_10_2','4_10_2','5_10_2','6_10_2','7_10_2', '8_10_2','9_10_2','10_10_2', '1_11_2','2_11_2','3_11_2','4_11_2','5_11_2','6_11_2','7_11_2', '8_11_2', '9_11_2', '10_11_2']          
Wedlesson =['1_5_3','2_5_3','3_5_3','4_5_3','5_5_3','6_5_3','7_5_3',
'1_6_3','2_6_3','3_6_3','4_6_3','5_6_3','6_6_3','7_6_3', '8_6_3','1_7_3','2_7_3','3_7_3','4_7_3','5_7_3','6_7_3','7_7_3', '8_7_3','1_8_3','2_8_3','3_8_3','4_8_3','5_8_3','6_8_3','7_8_3', '8_8_3','1_9_3','2_9_3','3_9_3','4_9_3','5_9_3','6_9_3','7_9_3', '8_9_3', '9_9_3','10_9_3','1_10_3','2_10_3','3_10_3','4_10_3','5_10_3','6_10_3','7_10_3', '8_10_3','9_10_3','10_10_3', '1_11_3','2_11_3','3_11_3','4_11_3','5_11_3','6_11_3','7_11_3', '8_11_3','9_11_3', '10_11_3']          
Thulesson =['1_5_4','2_5_4','3_5_4','4_5_4','5_5_4','6_5_4','7_5_4',
'1_6_4','2_6_4','3_6_4','4_6_4','5_6_4','6_6_4','7_6_4', '8_6_4','1_7_4','2_7_4','3_7_4','4_7_4','5_7_4','6_7_4','7_7_4', '8_7_4','1_8_4','2_8_4','3_8_4','4_8_4','5_8_4','6_8_4','7_8_4', '8_8_4','1_9_4','2_9_4','3_9_4','4_9_4','5_9_4','6_9_4','7_9_4', '8_9_4', '9_9_4','10_9_4','1_10_4','2_10_4','3_10_4','4_10_4','5_10_4','6_10_4','7_10_4', '8_10_4','9_10_4','10_10_4', '1_11_4','2_11_4','3_11_4','4_11_4','5_11_4','6_11_4','7_11_4', '8_11_4', '9_11_4', '10_11_4']          
Frilesson =['1_5_5','2_5_5','3_5_5','4_5_5','5_5_5','6_5_5','7_5_5',
'1_6_5','2_6_5','3_6_5','4_6_5','5_6_5','6_6_5','7_6_5', '8_6_5','1_7_5','2_7_5','3_7_5','4_7_5','5_7_5','6_7_5','7_7_5', '8_7_5','1_8_5','2_8_5','3_8_5','4_8_5','5_8_5','6_8_5','7_8_5', '8_8_5','1_9_5','2_9_5','3_9_5','4_9_5','5_9_5','6_9_5','7_9_5', '8_9_5', '9_9_5','10_9_5','1_10_5','2_10_5','3_10_5','4_10_5','5_10_5','6_10_5','7_10_5', '8_10_5','9_10_5','10_10_5', '1_11_5','2_11_5','3_11_5','4_11_5','5_11_5','6_11_5','7_11_5', '8_11_5', '9_11_5', '10_11_5']          
NewLesson = ['','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','',
'','','','','','','', '', '', '','','','','','','','','', '', '','','','','','','','','', '', '']
allLesson = ['Математика\n', 'Английский язык\n', 'Русский язык\n', 'География\n', 'Информатика\n', 'История\n', 'Обществознание\n', 'Литература\n', 'Физкультура\n', 'Биология\n', 'Второй иностранный\n', 'Английский язык\n', '"-"\n', 'Риторика\n' , 'Алгебра Р/Б \n', 'Геометрия Р/Б\n' , 'ОГЭ Био/Ист/Англ\n', 'ОГЭ Мат1/Мат2\n', 'ОГЭ Общ\n', 'ОГЭ география/инф\n', 'ОГЭ русский\n', 'Геом Р/История Р/Лит-ра Р/Био Р\n' , 'Геом Р/Биология Р\n' , 'Общ(экон)/ русский ЕГЭ\n',  'Обществознание Р\n', 'Алгебра Р/ Геометрия Б\n', 'Алг Р/ Ист Р/ Лит Р/ Хим Р\n', 'Инф Р/Физ-ра\n', 'Алгебра Б/Ф
